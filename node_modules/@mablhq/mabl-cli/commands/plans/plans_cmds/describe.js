"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mablApiClientFactory_1 = require("../../../api/mablApiClientFactory");
const describe_1 = require("../../commandUtil/describe");
const util_1 = require("../../commandUtil/util");
exports.command = 'describe <id>';
exports.describe = (0, util_1.getDescribeDescriptions)('plan');
exports.builder = (0, describe_1.getDescribeBuilderOptions)();
exports.handler = (0, util_1.failWrapper)(getPlan);
async function getPlan(parsed) {
    var _a;
    try {
        const planId = parsed.id;
        const apiClient = await mablApiClientFactory_1.MablApiClientFactory.createApiClient();
        const plan = await apiClient.getPlan(planId);
        delete plan.journeys_ddt_migration_backup;
        (0, describe_1.outputEntity)(plan, parsed.output);
        return (_a = plan.id) !== null && _a !== void 0 ? _a : '';
    }
    catch (error) {
        throw new Error(`Error getting plan: ${error}`);
    }
}
